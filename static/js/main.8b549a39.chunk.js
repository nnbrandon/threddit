(this.webpackJsonpthreddit=this.webpackJsonpthreddit||[]).push([[0],{10:function(e,t,n){e.exports={container:"Posts_container__3vF_i",posts:"Posts_posts__fNhWU",subredditText:"Posts_subredditText__cTroL",hamburger:"Posts_hamburger__d_e42",link:"Posts_link__JEwjG",postWrapper:"Posts_postWrapper__5hsp2",loading:"Posts_loading__3ZzJ9",post:"Posts_post__LyNp_",thumbnail:"Posts_thumbnail__OSOEU",selectedPost:"Posts_selectedPost__2kv0K",heart:"Posts_heart__2tyg7"}},19:function(e,t,n){e.exports={sidebar:"Navbar_sidebar__mwQyv",buttons:"Navbar_buttons__3W0vS",buttonLayout:"Navbar_buttonLayout__2VQ-d",selectedSubreddit:"Navbar_selectedSubreddit__zvZa5",nav:"Navbar_nav__3cHYR"}},20:function(e,t,n){e.exports={container:"Modal_container__Nc-xq",modalContainer:"Modal_modalContainer__1CKZv",smallModalBox:"Modal_smallModalBox__2FFp1",normalModalBox:"Modal_normalModalBox__3o1l0"}},23:function(e,t,n){e.exports={layout:"GoToSubreddit_layout__21D0p",subredditInput:"GoToSubreddit_subredditInput__m12PC",goButton:"GoToSubreddit_goButton__6dCc-",closeButton:"GoToSubreddit_closeButton__3W8HW"}},24:function(e,t,n){e.exports={layout:"AddSubreddit_layout__2jH53",subredditInput:"AddSubreddit_subredditInput__2Ks9l",addButton:"AddSubreddit_addButton__3gyg4",closeButton:"AddSubreddit_closeButton__3_fe6"}},31:function(e,t,n){e.exports={field:"TextInput_field__3Nkmt",active:"TextInput_active__3dxBt",locked:"TextInput_locked___Exol",error:"TextInput_error__2rUuX"}},37:function(e,t,n){e.exports={container:"Dashboard_container__205D7",content:"Dashboard_content__1OVLf"}},48:function(e,t,n){e.exports={button:"Button_button__CftuL"}},51:function(e,t,n){e.exports={spinner:"Spinner_spinner__-Zzob",spin:"Spinner_spin__rZPQ7"}},6:function(e,t,n){e.exports={container:"Comments_container__2gEP4",commentWrapper:"Comments_commentWrapper__KaDj2",commentsContainer:"Comments_commentsContainer__3yUU3",hamburger:"Comments_hamburger__1FiW_",backArrow:"Comments_backArrow__3geJG",loading:"Comments_loading__2kYMG",comment:"Comments_comment__3yO4C",postSectionWrapper:"Comments_postSectionWrapper__2eTTK",postSection:"Comments_postSection__1iARa",postSectionHeader:"Comments_postSectionHeader__1YSqL",postSectionPreview:"Comments_postSectionPreview__39AzW",closeButton:"Comments_closeButton__3YHDJ",arrowDown:"Comments_arrowDown__3ELnp",previewImg:"Comments_previewImg__Xck6t",textHtml:"Comments_textHtml__3XLtl"}},88:function(e,t,n){},89:function(e,t,n){"use strict";n.r(t);var r=n(7),c=n.n(r),a=n(13),s=n(1),o=n.n(s),i=n(47),d=n.n(i),u=n(15),l=n(3),b=n(4),j=n(17),h=n(16),m=n(36),p=n(10),f=n.n(p),x=n(14),_=n(19),v=n.n(_),O=n(48),g=n.n(O),C=n(2);var w=function(e){e.type;var t=e.onClickEvent,n=e.label;return Object(C.jsx)("button",{type:"submit",className:g.a.button,onClick:t,children:n})};var S=function(e){var t=e.navData,n=e.selectedSubreddit,r=e.onCloseNav,c=e.onShowGoToSubreddit,a=e.onShowAddSubreddit,s=n?"/r/"+n:"",o=t.map((function(e,t){var n;return(s===e.path||""===s&&"/home"===e.path)&&(n=v.a.selectedSubreddit),Object(C.jsx)("li",{children:Object(C.jsx)(u.b,{className:n,to:e.path,children:e.text})},t)}));return Object(C.jsxs)("div",{className:v.a.sidebar,children:[Object(C.jsx)("span",{children:Object(C.jsx)(x.c,{alt:"Close",onClick:r,size:"50px"})}),Object(C.jsx)("nav",{className:v.a.nav,children:Object(C.jsx)("ul",{children:o})}),Object(C.jsxs)("div",{className:v.a.buttons,children:[Object(C.jsx)("span",{className:v.a.buttonLayout,children:Object(C.jsx)(w,{onClickEvent:c,label:"Go to Subreddit"})}),Object(C.jsx)("span",{className:v.a.buttonLayout,children:Object(C.jsx)(w,{onClickEvent:a,label:"Add Subreddit"})})]})]})},k=n(30),N=n(6),y=n.n(N),P=n(26),I=n.n(P);var B=function(e){var t,n=e.post;if(n){var r=n.title,c=n.score,a=n.num_comments,s=n.getPrefixedAuthor(),i=n.timeSince(),d=n.getPreviewSource(),u=n.text_html?I.a.decode(n.text_html):void 0,l=n.url?Object(C.jsx)("a",{href:n.url,target:"_blank",rel:"noreferrer",children:n.url}):void 0,b=d?Object(C.jsx)("img",{className:y.a.previewImg,src:d.url,alt:"".concat(n.subreddit_name_prefixed," - ").concat(n.title)}):void 0;t=Object(C.jsxs)("div",{className:y.a.postSection,children:[Object(C.jsxs)("div",{children:["r/",n.subreddit," Posted by ",s," ",i]}),Object(C.jsx)("h3",{children:r}),l,Object(C.jsx)("br",{}),Object(C.jsx)("div",{className:y.a.postSectionPreview,children:b}),Object(C.jsx)("div",{className:y.a.textHtml,dangerouslySetInnerHTML:{__html:u}}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{children:[c," score | ",a," comments"]})]})}return Object(C.jsx)(o.a.Fragment,{children:t})},M=n(52),E=n(51),L=n.n(E);var H=function(e){return e.size,Object(C.jsx)(M.a,{alt:"Loading...",icon:"spinner",className:L.a.spinner,size:"40px"})},T=n(53);var A=function(e){var t=e.onClick;return e.size,Object(C.jsx)(T.a,{onClick:t,size:"30px"})};var z=function(e){var t,n=e.comment,r=n.score,c=n.body_html,a=n.id,s=n.depth,o=n.getPrefixedAuthor(),i=n.timeSince();c&&(t=I.a.decode(c));var d=window.screen.width>=320&&window.screen.width<=480,u="".concat(d?3.5*s+0:.8*s+5,"%");return Object(C.jsxs)("div",{className:y.a.comment,style:{marginLeft:u},children:[Object(C.jsxs)("div",{children:["Posted by ",o," ",i]}),Object(C.jsx)("div",{dangerouslySetInnerHTML:{__html:t}}),Object(C.jsx)("br",{}),Object(C.jsxs)("div",{children:[r," score | Comment depth: ",s]})]},a)},D=n(27),W=n.n(D),F=n(28),G=n(29),U=function(){function e(t){Object(F.a)(this,e),this.author=t.author,this.created_utc=t.created_utc,this.body=t.body,this.body_html=t.body_html,this.depth=t.depth,this.id=t.id,this.commentId=t.name,this.parent_id=t.parent_id,this.score=t.score,this.subreddit=t.subreddit,this.subreddit_name_prefixed=t.subreddit_name_prefixed}return Object(G.a)(e,[{key:"getPrefixedAuthor",value:function(){return"u/".concat(this.author)}},{key:"timeSince",value:function(){var e=new Date(1e3*this.created_utc),t=Math.floor((new Date-e)/1e3),n=t/31536e3;return n>1?Math.floor(n)+" years ago":(n=t/2592e3)>1?Math.floor(n)+" months ago":(n=t/86400)>1?Math.floor(n)+" days ago":(n=t/3600)>1?Math.floor(n)+" hours ago":(n=t/60)>1?Math.floor(n)+" minutes ago":Math.floor(t)+" seconds ago"}}]),e}(),R=function(){function e(t){Object(F.a)(this,e),this.author=t.author,this.created_utc=t.created_utc,this.id=t.id,this.postId=t.name,this.is_video=t.is_video,this.score=t.score,this.subreddit=t.subreddit,this.subreddit_id=t.subreddit_id,this.subreddit_name_prefixed=t.subreddit_name_prefixed,this.title=t.title,this.url=t.url,this.num_comments=t.num_comments,this.text=t.selftext,this.text_html=t.selftext_html,this.preview=t.preview,this.is_video=t.is_video,this.thumbnail=t.url&&t.thumbnail_height&&t.thumbnail_width?{url:t.thumbnail,height:t.thumbnail_height,width:t.thumbnail_width}:void 0}return Object(G.a)(e,[{key:"getPreviewSource",value:function(){if(this.preview&&this.preview.images&&this.preview.images.length>0&&!this.is_video){var e=this.preview.images[0].source;if(!e)return;return{height:e.height,width:e.width,url:e.url.replace("amp;","")}}}},{key:"getPrefixedAuthor",value:function(){return"u/".concat(this.author)}},{key:"getLowerCasedSubreddit",value:function(){return this.subreddit.toLowerCase()}},{key:"timeSince",value:function(){var e=new Date(1e3*this.created_utc),t=Math.floor((new Date-e)/1e3),n=t/31536e3;return n>1?Math.floor(n)+" years ago":(n=t/2592e3)>1?Math.floor(n)+" months ago":(n=t/86400)>1?Math.floor(n)+" days ago":(n=t/3600)>1?Math.floor(n)+" hours ago":(n=t/60)>1?Math.floor(n)+" minutes ago":Math.floor(t)+" seconds ago"}}]),e}();function J(e,t){return K.apply(this,arguments)}function K(){return(K=Object(a.a)(c.a.mark((function e(t,n){var r,a,s,o,i,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,W.a.get("".concat(t,"?limit=50"));case 3:if(r=e.sent,console.log(r),200===r.status){e.next=7;break}throw new Error("Unable to fetch comments");case 7:e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(0),new Error("Unable to fetch comments");case 12:if(!r||!r.data){e.next=23;break}if(n&&(a=new R(r.data[0].data.children[0].data)),s=r.data[1]){e.next=17;break}throw new Error("Unable to fetch comments");case 17:if(o=s.data){e.next=20;break}throw new Error("Unable to fetch comments");case 20:return i=o.children,d=Z(i),e.abrupt("return",{post:a,comments:d});case 23:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}function Z(e){return e.reduce((function(e,t){var n=t.data,r=new U(n);if(n.replies){var c=Z(n.replies.data.children);e.push(r),e=[].concat(Object(h.a)(e),Object(h.a)(c))}else e.push(r);return e}),[])}function Y(e,t){return"https://www.reddit.com/r/".concat(e,"/comments/").concat(t,".json")}var Q=function(e){var t=e.selectedPost,n=e.onCloseComments,r=e.match,o=e.onCloseNav,i=e.showNavBar,d=r.params,u=d.postId,l=d.subreddit,j=Object(s.useState)([]),h=Object(b.a)(j,2),m=h[0],p=h[1],f=Object(s.useState)(t),_=Object(b.a)(f,2),v=_[0],O=_[1],g=Object(s.useRef)(null),w=Object(s.useRef)({startIndex:0,endIndex:0}),S=Object(s.useRef)(0),N=Object(s.useRef)(!1);Object(s.useEffect)((function(){return document.addEventListener("keydown",n),function(){document.removeEventListener("keydown",n),p([]),O(void 0)}}),[n]),Object(s.useEffect)((function(){function e(){return(e=Object(a.a)(c.a.mark((function e(){var n,r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Y(l,u),e.prev=1,e.next=4,J(n,!t);case 4:r=e.sent,a=r.post,s=r.comments,t||O(a),p(s),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,11]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}(l,u)}),[]);var P=i?Object(C.jsx)(x.a,{className:y.a.backArrow,alt:"Back",onClick:n,size:"30px"}):Object(C.jsx)("span",{}),I=Object(s.useCallback)((function(){return Object(C.jsx)("div",{className:y.a.postSectionWrapper,children:Object(C.jsx)(B,{post:v,onCloseComments:n})})}),[v,n]),M=Object(s.useCallback)((function(e){var t=m[e];return Object(C.jsx)("div",{className:y.a.commentWrapper,children:Object(C.jsx)(z,{comment:t},t.id)})}),[m]),E=Object(s.useCallback)((function(){return Object(C.jsx)("div",{className:y.a.loading,children:Object(C.jsx)(H,{})})}),[]);return Object(C.jsxs)("div",{className:y.a.container,children:[Object(C.jsxs)("div",{className:y.a.postSectionHeader,children:[Object(C.jsxs)("span",{className:y.a.hamburger,children:[!i&&Object(C.jsx)(A,{onClick:o}),P]}),Object(C.jsx)("div",{children:Object(C.jsx)(x.c,{alt:"Close",onClick:n,size:"40px"})})]}),Object(C.jsx)("div",{className:y.a.arrowDown,children:Object(C.jsx)(x.b,{alt:"Next Comment",onClick:function(){if(g.current){var e,t=S.current;for(N.current?e=t+1:(N.current=!0,e=t);e<m.length&&0!==m[e].depth;e++);S.current=e,g.current.scrollToIndex({index:e,align:"start",behavior:"smooth"})}},size:"50px",color:"#4fbcff"})}),Object(C.jsx)("div",{className:y.a.commentsContainer,children:Object(C.jsx)("div",{className:y.a.commentsSection,children:Object(C.jsx)(k.a,{ref:g,rangeChanged:function(e){w.current=e;var t=w.current,n=t.startIndex,r=t.endIndex;console.log(w.current),(S.current<n||S.current>r)&&(console.log("currentCommentIndex is out of range"),N.current||(N.current=!0),S.current=n)},style:{height:"100vh",width:"100%"},data:m,itemContent:M,components:{Header:I,Footer:E}})})})]})};var X=function(e){var t,n=e.isHome,r=e.post,c=e.onClickPost,a=r.title,s=r.score,o=r.num_comments,i=r.getPrefixedAuthor(),d=r.timeSince(),l=n?"/home/r/".concat(r.subreddit,"/comments/").concat(r.id):"/r/".concat(r.subreddit,"/comments/").concat(r.id);if(r.thumbnail){var b=r.thumbnail,j=b.url,h=b.height,m=b.width;t=Object(C.jsx)("div",{className:f.a.thumbnail,children:Object(C.jsx)("img",{src:j,width:m,height:h,alt:""})})}var p=n?r.subreddit_name_prefixed:void 0;return Object(C.jsx)("article",{className:f.a.post,onClick:function(){return c(r)},children:Object(C.jsxs)(u.b,{className:f.a.link,to:l,children:[Object(C.jsxs)("div",{children:[p," Posted by ",i," ",d]}),Object(C.jsx)("h3",{children:a}),t,Object(C.jsxs)("div",{style:{marginTop:"auto"},children:[s," score | ",o," comments"]})]})})};var q=function(e){var t=e.isHome,n=e.postList,r=e.loadNextPage,c=e.onClickPost,a=Object(s.useCallback)((function(e){var r=n[e];return Object(C.jsx)("div",{className:f.a.postWrapper,children:Object(C.jsx)(X,{isHome:t,post:r,onClickPost:c},r.id)})}),[t,c,n]),o=Object(s.useCallback)((function(){return Object(C.jsx)("div",{className:"".concat(f.a.loading),children:Object(C.jsx)(H,{})})}),[]);return Object(C.jsx)(k.a,{style:{height:"100vh",width:"100%"},data:n,endReached:r,itemContent:a,components:{Footer:o}})},V=n(23),$=n.n(V),ee=n(31),te=n.n(ee);var ne=function(e){var t=e.id,n=e.locked,r=e.focused,c=e.value,a=e.error,o=e.label,i=void 0===o?"":o,d=e.onChange,u=Object(s.useState)(n&&r||!1),l=Object(b.a)(u,2),j=l[0],h=l[1],m=Object(s.useState)(c||""),p=Object(b.a)(m,2),f=p[0],x=p[1],_=Object(s.useState)(a||""),v=Object(b.a)(_,2),O=v[0],g=v[1],w="".concat(te.a.field," ").concat((n?j:j||c)&&te.a.active," ").concat(n&&!j?te.a.locked:void 0);return Object(C.jsxs)("div",{className:w,children:[Object(C.jsx)("input",{id:t,type:"text",value:f,placeholder:i,onChange:function(e){var n=e.target.value;return x(n),g(""),d(t,n)},onFocus:function(){return!n&&h(!0)},onBlur:function(){return!n&&h(!1)}}),Object(C.jsx)("label",{htmlFor:t,className:a&&"error",children:O||i})]})},re=n(20),ce=n.n(re);var ae=function(e){var t,n=e.children,r=e.onClose,c=e.size,a=Object(s.useRef)(null),o=Object(s.useRef)(null);if("small"===c)t=ce.a.smallModalBox;else t=ce.a.normalModalBox;return Object(s.useEffect)((function(){function e(e){a.current&&a.current.contains(e.target)&&o.current&&!o.current.contains(e.target)&&r()}return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}),[a,o,r]),Object(C.jsx)("div",{ref:a,className:ce.a.container,children:Object(C.jsx)("div",{className:ce.a.modalContainer,children:Object(C.jsx)("div",{ref:o,className:t,children:n})})})};var se=function(e){var t=e.onClose,n=Object(s.useState)(""),r=Object(b.a)(n,2),c=r[0],a=r[1],o=Object(l.g)();return Object(C.jsx)(ae,{onClose:t,size:"small",children:Object(C.jsxs)("form",{className:$.a.layout,children:[Object(C.jsx)("span",{className:$.a.closeButton,children:Object(C.jsx)(x.c,{alt:"Close",onClick:t,size:"40px"})}),Object(C.jsx)("div",{className:$.a.subredditInput,children:Object(C.jsx)(ne,{label:"Subreddit",onChange:function(e,t){a(t)}})}),Object(C.jsx)("div",{className:$.a.goButton,children:Object(C.jsx)(w,{type:"submit",label:"Go",onClickEvent:function(e){e.preventDefault(),t(),o.push("/r/"+c)}})})]})})};function oe(){var e=Object.keys(localStorage).map((function(e){return{path:localStorage.getItem(e),text:e}})).sort((function(e,t){var n=e.text.toLowerCase(),r=t.text.toLowerCase();return n<r?-1:n>r?1:0}));return[{path:"/home",text:"Home"}].concat(Object(h.a)(e))}function ie(e){localStorage.getItem(e)||localStorage.setItem(e,"/r/"+e)}function de(e){return!!localStorage.getItem(e)}var ue=n(24),le=n.n(ue);var be=function(e){var t=e.onClose,n=e.fetchSubreddits,r=Object(s.useState)(""),c=Object(b.a)(r,2),a=c[0],o=c[1];return Object(C.jsx)(ae,{onClose:t,size:"small",children:Object(C.jsxs)("form",{className:le.a.layout,children:[Object(C.jsx)("span",{className:le.a.closeButton,children:Object(C.jsx)(x.c,{alt:"Close",onClick:t,size:"40px"})}),Object(C.jsx)("div",{className:le.a.subredditInput,children:Object(C.jsx)(ne,{label:"Subreddit",onChange:function(e,t){o(t)}})}),Object(C.jsx)("div",{className:le.a.addButton,children:Object(C.jsx)(w,{type:"submit",label:"Add",onClickEvent:function(e){e.preventDefault(),ie(a),n(),t()}})})]})})};function je(e,t){return he.apply(this,arguments)}function he(){return(he=Object(a.a)(c.a.mark((function e(t,n){var r,a,s,o,i,d,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t||(r=oe().filter((function(e){return"Home"!==e.text})),t=r.length?(t="".concat(r.map((function(e){return e.text+"+"})))).replaceAll(",","").substring(0,t.length-1):"all"),a="https://www.reddit.com/r/".concat(t,".json?after=").concat(n,"&limit=15"),e.prev=2,e.next=5,W.a.get(a);case 5:if(s=e.sent,console.log(s),200===s.status){e.next=9;break}throw new Error("Unable to fetch posts for ".concat(t));case 9:e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(2),new Error("Unable to fetch posts for ".concat(t));case 14:if(!(s&&s.data&&s.data.data)){e.next=18;break}return o=s.data.data,i=o.children,d=o.after,u=me(i),e.abrupt("return",{posts:u,nextAfter:d});case 18:case"end":return e.stop()}}),e,null,[[2,11]])})))).apply(this,arguments)}function me(e){return e.map((function(e){return new R(e.data)}))}var pe=function(e){var t=e.match,n=e.isHome,r=e.subreddits,o=e.fetchSubreddits,i=t.params.subreddit,d=Object(s.useState)([]),u=Object(b.a)(d,2),p=u[0],x=u[1],_=Object(s.useState)(""),v=Object(b.a)(_,2),O=v[0],g=v[1],w=Object(s.useState)(void 0),k=Object(b.a)(w,2),N=k[0],y=k[1],P=Object(l.g)(),I=Object(s.useState)(!0),B=Object(b.a)(I,2),M=B[0],E=B[1],L=Object(s.useState)(!1),H=Object(b.a)(L,2),T=H[0],z=H[1],D=Object(s.useState)(!1),W=Object(b.a)(D,2),F=W[0],G=W[1],U=n?"/home/r/:subreddit/comments/:postId":"/r/:subreddit/comments/:postId";Object(s.useEffect)((function(){function e(){return e=Object(a.a)(c.a.mark((function e(t,n){var r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,je(t,n);case 3:r=e.sent,a=r.posts,s=r.nextAfter,x(a),g(s),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])}))),e.apply(this,arguments)}return function(t,n){e.apply(this,arguments)}(i,""),function(){y(void 0),x([]),g(""),console.log("subreddit changed in postsview")}}),[i]);var R=Object(s.useCallback)((function(){E(!M)}),[M]);function J(){G(!1),z(!T)}function K(){z(!1),G(!F)}var Z=Object(s.useCallback)((function(e){27!==e.keyCode&&"click"!==e.type||(y(void 0),n?P.push("/home"):P.push("/r/".concat(i)))}),[P,n,i]),Y=Object(s.useCallback)((function(e){return Object(C.jsx)(Q,Object(j.a)(Object(j.a)({},e),{},{onCloseNav:R,showNavBar:M,selectedPost:N,onCloseComments:Z}))}),[R,Z,M,N]),X=n?Object(C.jsx)("div",{children:"Home"}):Object(C.jsxs)("div",{children:["r/",i]});return Object(C.jsxs)("div",{className:f.a.container,children:[M&&Object(C.jsx)(S,{navData:r,selectedSubreddit:i,onCloseNav:R,onShowGoToSubreddit:J,onShowAddSubreddit:K}),Object(C.jsxs)("div",{className:f.a.posts,children:[Object(C.jsx)(l.b,{path:U,render:Y}),T&&Object(C.jsx)(se,{onClose:J}),F&&Object(C.jsx)(be,{onClose:K,fetchSubreddits:o}),Object(C.jsxs)("div",{className:f.a.subredditText,children:[!M&&Object(C.jsx)("span",{className:f.a.hamburger,children:Object(C.jsx)(A,{onClick:R})}),Object(C.jsx)("h3",{children:Object(C.jsx)("i",{children:X})}),!n&&Object(C.jsx)("span",{className:f.a.heart,children:de(i)?Object(C.jsx)(m.b,{size:"30px",color:"rgb(249, 24, 128)",onClick:function(){console.log("test"),function(e){localStorage.removeItem(e)}(i),o()}}):Object(C.jsx)(m.a,{size:"30px",onClick:function(){ie(i),o()}})})]}),Object(C.jsx)(q,{isHome:n,postList:p,loadNextPage:function(){!function(e,t){try{setTimeout(Object(a.a)(c.a.mark((function n(){var r,a,s;return c.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,je(e,t);case 2:r=n.sent,a=r.posts,s=r.nextAfter,x((function(e){return[].concat(Object(h.a)(e),Object(h.a)(a))})),g(s);case 7:case"end":return n.stop()}}),n)}))),1e3)}catch(n){console.error(n)}}(i,O)},onClickPost:function(e){console.log(e),y(e)}})]})]})};var fe=function(e){var t=e.subreddits,n=e.fetchSubreddits,r=Object(s.useCallback)((function(e){return Object(C.jsx)(pe,Object(j.a)(Object(j.a)({},e),{},{isHome:!0,subreddits:t,fetchSubreddits:n}))}),[t,n]),c=Object(s.useCallback)((function(e){return Object(C.jsx)(pe,Object(j.a)(Object(j.a)({},e),{},{isHome:!1,subreddits:t,fetchSubreddits:n}))}),[t,n]);return Object(C.jsxs)(l.d,{children:[Object(C.jsx)(l.b,{exact:!0,path:"/",children:Object(C.jsx)(l.a,{to:"/home"})}),Object(C.jsx)(l.b,{path:"/home",render:r}),Object(C.jsx)(l.b,{path:"/r/:subreddit",render:c})]})},xe=n(37),_e=n.n(xe);var ve=function(){var e=Object(s.useState)([]),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(s.useCallback)((function(){var e=oe();r(e)}),[]);return Object(s.useEffect)((function(){c()}),[c]),Object(C.jsx)("main",{className:_e.a.container,children:Object(C.jsx)("div",{className:_e.a.content,children:Object(C.jsx)(fe,{subreddits:n,fetchSubreddits:c})})})};var Oe=function(){return Object(C.jsx)(o.a.Fragment,{children:Object(C.jsx)(u.a,{children:Object(C.jsx)(l.d,{children:Object(C.jsx)(l.b,{path:"*",component:ve})})})})};var ge=function(){return Object(C.jsx)(Oe,{})},Ce=(n(88),function(e){e&&e instanceof Function&&n.e(4).then(n.bind(null,91)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))}),we=n(54),Se=n.n(we);Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("polyfill"),Se.a.polyfill(),"scrollBehavior"in document.documentElement.style){e.next=5;break}return e.next=5,n.e(3).then(n.bind(null,90));case 5:case"end":return e.stop()}}),e)})))(),d.a.render(Object(C.jsx)(o.a.StrictMode,{children:Object(C.jsx)(ge,{})}),document.getElementById("app")),Ce()}},[[89,1,2]]]);
//# sourceMappingURL=main.8b549a39.chunk.js.map